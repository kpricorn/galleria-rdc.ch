%script{ :src => "javascripts/fancybox/jquery.fancybox-1.3.1.pack.js", :type => "text/javascript" }
%script{ :src => "javascripts/fancybox/jquery.easing-1.3.pack.js", :type => "text/javascript" }
%script{ :src => "javascripts/fancybox/jquery.mousewheel-3.0.2.pack.js", :type => "text/javascript" }
%link{ :href => "fancybox/jquery.fancybox-1.3.1.css", :rel => "stylesheet", :type => "text/css", :media => "screen" }

:javascript
  function getTitle(title, currentArray, currentIndex, currentOpts) {
      return 'gaga';
  }
  
  $(document).ready(function() {
    $("#gallery a").each(function(index) {
      $(this).fancybox({
        'titlePosition'	:	'over',
        'title'		: $(this).parent().find('.caption div').text()
      })
    });
  });
  